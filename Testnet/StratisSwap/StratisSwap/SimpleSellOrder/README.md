# Simple Sell Order

A contract used to sell full SRC tokens at a specified price per token.

## Creating the Contract

### Hash

```text
11d83277d3328049ce443c415a69857a5b5c9c175058227ae9fd469d9abe386e
```

### ByteCode

```text
4D5A90000300000004000000FFFF0000B800000000000000400000000000000000000000000000000000000000000000000000000000000000000000800000000E1FBA0E00B409CD21B8014CCD21546869732070726F6772616D2063616E6E6F742062652072756E20696E20444F53206D6F64652E0D0D0A2400000000000000504500004C0102007975D98D0000000000000000E00022200B0130000012000000020000000000003A300000002000000040000000000010002000000002000004000000000000000400000000000000006000000002000000000000030040850000100000100000000010000010000000000000100000000000000000000000E82F00004F000000000000000000000000000000000000000000000000000000004000000C000000CC2F00001C0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000200000080000000000000000000000082000004800000000000000000000002E7465787400000040100000002000000012000000020000000000000000000000000000200000602E72656C6F6300000C0000000040000000020000001400000000000000000000000000004000004200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001C30000000000000480000000200050018240000B40B000001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001330030077000000000000000203280600000A020E04166AFE037201000070280700000A020E05166AFE03723B000070280700000A0202280800000A046F0900000A7277000070280700000A0204280300000602052805000006020E042807000006020E0528090000060202280A00000A6F0B00000A280B0000060217280D0000062A4602280800000A72AB0000706F0C00000A2A4A02280800000A72AB000070036F0D00000A2A4602280800000A72B70000706F0E00000A2A4A02280800000A72B7000070036F0F00000A2A4602280800000A72E30000706F1000000A2A4A02280800000A72E3000070036F1100000A2A4602280800000A72EF0000706F1000000A2A4A02280800000A72EF000070036F1100000A2A4602280800000A72FD0000706F0C00000A2A4A02280800000A72FD000070036F0D00000A2A4602280800000A720B0100706F1200000A2A4A02280800000A720B010070036F1300000A2A0000001330080072010000010000110202280C000006721D010070280700000A0202280A00000A6F0B00000A02280A000006281400000A724D010070280700000A0228080000060334080228080000062B0103100102280600000603D90A0202280A00000A6F1500000A06FE0516FE01727D010070280700000A030228040000066ED90B02022802000006166A72BD010070198D0E000001251602280A0000068C08000001A2251702280A00000A6F0B00000A8C08000001A22518078C0F000001A2166A281600000A0C02086F1700000AA51000000172D7010070280700000A0202280A00000606281800000A2602280A00000A6F1500000A06DB0D09166A36130202280A00000A6F0B00000A09281800000A260202280800000603DB28090000060228080000062D070216280D0000061205FE1503000002120502280A00000A6F0B00000A7D0100000412050228060000067D020000041205037D03000004120502281900000A6F1A00000A7D0400000411051304021104280100002B11042AA60202280A00000A6F0B00000A02280A000006281C00000A72FB010070280700000A0216280D0000062A13300800AF0000000200001102022802000006166A7219020070188D0E000001251602280A0000068C08000001A2251702281D00000A8C08000001A2166A281600000A0A066F1E00000A2D04166A2B0B066F1700000AA50F0000010B1202FE1504000002120202280A0000067D0500000412020228020000067D0600000412020228060000067D0700000412020228080000067D080000041202722D0200707D09000004120202280C0000067D0A0000041202077D0B000004082A0042534A4201000100000000000C00000076342E302E33303331390000000005006C000000FC030000237E000068040000B403000023537472696E6773000000001C08000050020000235553006C0A00001000000023475549440000007C0A00003801000023426C6F6200000000000000020000015715A201090A000000FA0133001600000100000011000000040000000B000000100000000C0000001E000000050000000200000001000000060000000C000000010000000200000002000000010000000000A5010100000000000600F4006B02060033016B020600E00058020F008B0200000A00230122030A00440322030A00940022030A001A0322030A005903220306008000C7010A00140122030A00BB0022030A006B00220306005203C70106002200C7010600CE01C7010A008F0122030000000029000000000001000100010010001D0200001900010001000A011000F00100002900010011000A011000E702000029000500110006004C02B50006005700B90006007803B90006009A01B90006004502B5000600E401B50006005700B90006007803B90006008A00BC0006008201BF0006006300B90050200000000086185202C2000100D320000000008608D6012C000600E520000000008108E001CD000600F8200000000086089A02D30007000A21000000008108B402D70007001D210000000086084900730008002F210000000081085300DC000800422100000000860869037300090054210000000081087403DC000900672100000000860836022C000A0079210000000081084102CD000A008C210000000086087101A8000B009E210000000081087E01E1000B00B421000000008600AF03E6000C003223000000008600120206000D005C23000000008600E402EC000D0000000100A80000000200EA0100000300CE02000004005D00000005007F03000001006B01000001006B01000001006B01000001006B01000001006B01000001006B0100000100A703090052020100110052020600190052020A002900520206005900520206003100520210003100860316003100CC001C00610039032100310074002700690007022C0061000C033100610017033700610001003E0061000B00430061001500490061001F004E006100B70154006100BF015900410099036B006900510173003100A001770049005B01830031002D028700310096018F008900FC01730031008B01940041008D036B00310000032C004900F402A80021002B0033012E000B0002012E0013000B012E001B002A014300230033015F00A000020001000000E401F1000000B802F60000005700FA0000007803FA0000004502F10000008201FE0002000200030001000300030002000400050001000500050002000600070001000700070002000800090001000900090002000A000B0001000B000B0002000C000D0001000D000D0004800000000000000000000000000000000044030000040000000000000000000000AC003200000000000100020001000000000000000000220300000000030002000400020037009B0000000047657455496E7433320053657455496E7433320047657455496E7436340053657455496E743634003C4D6F64756C653E0053797374656D2E507269766174652E436F72654C6962006765745F5072696365007365745F50726963650070726963650042616C616E636500494D657373616765006765745F4D6573736167650056616C756554797065004F72646572547970650049536D617274436F6E7472616374537461746500736D617274436F6E74726163745374617465004950657273697374656E745374617465006765745F50657273697374656E7453746174650044656275676761626C6541747472696275746500436F6D70696C6174696F6E52656C61786174696F6E7341747472696275746500496E646578417474726962757465004465706C6F794174747269627574650052756E74696D65436F6D7061746962696C697479417474726962757465006765745F56616C7565006765745F52657475726E56616C75650076616C7565006765745F4973416374697665007365745F4973416374697665004C6F670049426C6F636B006765745F426C6F636B0043616C6C00536D617274436F6E74726163742E646C6C00476574426F6F6C00536574426F6F6C0053797374656D00426F6F6C65616E006765745F546F6B656E007365745F546F6B656E00746F6B656E005472616E73616374696F6E006765745F4E756D626572006765745F53656E64657200436C6F73654F726465720053696D706C6553656C6C4F72646572005472616E73666572006765745F53656C6C6572007365745F53656C6C6572004275796572002E63746F720053797374656D2E446961676E6F73746963730053797374656D2E52756E74696D652E436F6D70696C6572536572766963657300446562756767696E674D6F646573006765745F46756C6C546F6B656E496E53747261746F73686973007365745F46756C6C546F6B656E496E53747261746F736869730066756C6C546F6B656E496E53747261746F73686973004765744F7264657244657461696C73006765745F53756363657373006765745F416464726573730047657441646472657373005365744164647265737300537472617469732E536D617274436F6E747261637473004973436F6E747261637400536D617274436F6E7472616374004F626A65637400495472616E73666572526573756C74006765745F416D6F756E74007365745F416D6F756E7400616D6F756E7400417373657274006F705F457175616C697479006F705F496E657175616C69747900616D6F756E74546F427579000000395000720069006300650020006D007500730074002000620065002000670072006500610074006500720020007400680061006E0020003000003B41006D006F0075006E00740020006D007500730074002000620065002000670072006500610074006500720020007400680061006E002000300000334E006F007400200061002000760061006C0069006400200074006F006B0065006E0020006100640064007200650073007300000B54006F006B0065006E00002B460075006C006C0054006F006B0065006E0049006E00530074007200610074006F007300680069007300000B50007200690063006500000D41006D006F0075006E007400000D530065006C006C0065007200001149007300410063007400690076006500002F43006F006E007400720061006300740020006900730020006E006F00740020006100630074006900760065002E00002F530065006E006400650072002000630061006E006E006F00740020006200650020006F0077006E00650072002E00003F4E006F007400200065006E006F007500670068002000660075006E0064007300200074006F00200063006F00760065007200200063006F00730074002E0000195400720061006E007300660065007200460072006F006D0000235400720061006E00730066006500720020006600610069006C007500720065002E00001D41007300730065007200740020006600610069006C00650064002E00001341006C006C006F00770061006E0063006500001F530069006D0070006C006500530065006C006C004F007200640065007200000000009EF0DE4B8C236048A0AFC998BD1AB5CE0004200101080320000105200101111105200101121D05200201020E04200012310520010211210420001235042000112105200111210E062002010E1121042001090E052002010E090420010B0E052002010E0B042001020E052002010E020B07060B0B12250B110C110C07000202112111210320000B0B2005122511210B0E1D1C0B0320001C072002122511210B042000124506300101011E00040A01110C07070312250B111003200002087CEC85D7BEA7798E0306112102060B02060E0206020A200501121D1121090B0B052001011121032000090420010109042001010B0420010102052001110C0B04200011100428001121032800090328000B032800020801000800000000001E01000100540216577261704E6F6E457863657074696F6E5468726F7773010801000200000000000401000000000000000000000000000000100000000000000000000000000000001030000000000000000000002A3000000020000000000000000000000000000000000000000000001C300000000000000000000000005F436F72446C6C4D61696E006D73636F7265652E646C6C0000000000FF250020001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000003000000C0000003C3000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
```

### Parameters

- `Address token` - The contract address of the SRC token being traded.
- `uint fullTokenInStratoshis` - The amount of stratoshis it takes to make 1 full SRC token for the provided token address. (e.g. 100_000_000 for a token with 8 decimals)
- `ulong price` - The amount of CRS per SRC token in stratoshis. (e.g. 1CRS = 100_000_000)
- `ulong amount` - The amount of SRC tokens to sell in full. (e.g. 1 for 1SRC token)

### Post Deployment

After the contract is created the new contract address must be approved to spend the amount of SRC tokens specified in the `amount` parameter.

- Call the `Approve(Address newOrderContractAddress, ulong oldBalance, ulong amount)` method at the address of the SRC token to be traded.

Upon success, the `newOrderContractAddress` will have the required allowance to allow buyers to fill the order.

## Closing the Order

Only the creator of the contract can cancel the contract. This sets the `IsActive` flag to false preventing further user interaction.

- Call the `CloseOrder` method on the order contract address from the wallet address that created the order.

## Get Order Details

Call the `GetOrderDetails` method to receive the latest details about the order. The `balance` property on a sell order refers to the SRC `allowance` this contracts address has available to spend.

_Example Order Details_

```json
{
  "orderType": "SimpleSellOrder",
  "price": 10000000,
  "amount": 10,
  "isActive": true,
  "seller": "CV9FGxmLHxnpHwu2AmLKKuRUBjGX1yzkCZ",
  "token": "Cam6mmCcCv4zZN65ppF28tHLhT2DfwuU26",
  "balance": 100000000
}
```

## Filling an Order

Call the `Buy(ulong amountToPurchase)` method supplying the amount of SRC tokens to purchase in full as the parameter and also send the required amount of CRS tokens to complete the transaction.

Upon successful validation of the request and the orders state, the contract will hold the cost in CRS, the SRC tokens will be sent to the buyer, on success, the CRS tokens will be transferred to the seller and the transaction will be logged.

_Example Order Log_

```json
{
  "buyer": "CNXp26iEE3EbJC9RRLBZ2cYnP7a8L3Z84F",
  "price": 10000000,
  "amount": 10,
  "block": 12345
}
```
